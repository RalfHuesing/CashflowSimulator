<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:fi="using:FluentIcons.Avalonia"
             xmlns:vm="using:CashflowSimulator.Desktop.Features.Main"
             xmlns:nav="using:CashflowSimulator.Desktop.Features.Main.Navigation"
             mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="600"
             x:Class="CashflowSimulator.Desktop.Features.Main.MainShellView"
             x:DataType="vm:MainShellViewModel">

    <Grid ColumnDefinitions="260, *">
        
        <Border Grid.Column="0" 
                Background="{DynamicResource SidebarBackgroundBrush}"
                Padding="{DynamicResource PagePadding}">
            <Grid RowDefinitions="Auto, *, Auto">
                
                <StackPanel Grid.Row="0" Orientation="Horizontal" 
                            Spacing="{StaticResource SpacingSmallValue}" 
                            Margin="{StaticResource SidebarLogoMargin}">
                    <fi:SymbolIcon Symbol="ArrowTrendingLines" 
                                   FontSize="{StaticResource SidebarLogoIconSize}" 
                                   Foreground="{DynamicResource PrimaryActionBrush}"/>
                    <TextBlock Text="CashflowSimulator" Classes="sidebar-logo-title"/>
                </StackPanel>

                <nav:NavigationView Grid.Row="1" DataContext="{Binding Navigation}"/>

                <StackPanel Grid.Row="2" Spacing="{StaticResource SpacingSmallValue}">
                    <TextBlock Text="SZENARIO" Classes="sidebar-section-caption"/>
                    
                    <Button Classes="ghost" Command="{Binding LoadCommand}" HorizontalAlignment="Stretch">
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <fi:SymbolIcon Symbol="FolderOpen" />
                            <TextBlock Text="Laden..." />
                        </StackPanel>
                    </Button>

                    <Button Classes="ghost" Command="{Binding SaveCommand}" HorizontalAlignment="Stretch">
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <fi:SymbolIcon Symbol="Save" />
                            <TextBlock Text="Speichern" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <Border Grid.Column="1" 
                Background="{DynamicResource ContentBackgroundBrush}"
                Padding="{DynamicResource PagePadding}">
            
            <Grid RowDefinitions="Auto, *">
                
                <Grid Grid.Row="0" ColumnDefinitions="Auto, *" Margin="{StaticResource ContentHeaderMargin}">
                    <Border Grid.Column="0" Classes="header-icon">
                        <fi:SymbolIcon Symbol="Briefcase" 
                                       FontSize="{StaticResource HeaderIconSize}" 
                                       Foreground="{DynamicResource PrimaryActionBrush}"
                                       VerticalAlignment="Center" 
                                       HorizontalAlignment="Center"/>
                    </Border>
                    
                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <TextBlock Text="Aktuelles Szenario" Classes="content-header-label"/>
                        <TextBlock Text="{Binding CurrentProjectTitle}" 
                                   Classes="h1"
                                   Margin="0"/>
                    </StackPanel>
                </Grid>

                <Border Grid.Row="1" Classes="card">
                    <Grid>
                        <StackPanel IsVisible="{Binding IsContentPlaceholderVisible}"
                                    Spacing="{StaticResource SpacingMediumValue}"
                                    VerticalAlignment="Center" HorizontalAlignment="Center">
                            <fi:SymbolIcon Symbol="ArrowTrendingLines"
                                           FontSize="{StaticResource PlaceholderIconSize}"
                                           Foreground="{DynamicResource PlaceholderIconBrush}"/>
                            <TextBlock Text="WÃ¤hlen Sie eine Aktion aus der Navigation." 
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       HorizontalAlignment="Center"/>
                            <TextBlock Text="{Binding CurrentFilePath, StringFormat='Datei: {0}', TargetNullValue='(Ungespeichert)'}"
                                       Classes="placeholder-secondary"
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                        <ContentControl Content="{Binding CurrentContentViewModel}"
                                         IsVisible="{Binding !IsContentPlaceholderVisible}"
                                         HorizontalContentAlignment="Stretch"
                                         VerticalContentAlignment="Stretch"/>
                    </Grid>
                </Border>
            </Grid>
        </Border>
    </Grid>
</UserControl>